"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.distort = void 0;
const change_perspective_1 = require("change-perspective");
const minimumPosition = 0;
const maximumPosition = 1;
// These values may seem weird but it's just all the max corner coordinates clockwise.
const SOURCE_CORNERS = [
    minimumPosition,
    minimumPosition,
    maximumPosition,
    minimumPosition,
    maximumPosition,
    maximumPosition,
    minimumPosition,
    maximumPosition,
];
function distort(topLeft, topRight, bottomRight, bottomLeft) {
    return function (points) {
        const destinationCorners = [
            topLeft.x,
            topLeft.y,
            topRight.x,
            topRight.y,
            bottomRight.x,
            bottomRight.y,
            bottomLeft.x,
            bottomLeft.y,
        ];
        const perspective = (0, change_perspective_1.default)(SOURCE_CORNERS, destinationCorners);
        return points.map((point) => {
            const coordinates = perspective(point.x, point.y);
            point.x = coordinates[0];
            point.y = coordinates[1];
            return point;
        });
    };
}
exports.distort = distort;
